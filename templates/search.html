{% extends "base/base.html" %}
{% load static %}
{% load markdown %}
{% load humanize %}

{% block content %}
<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <form action="{% url 'home:search' %}" method="get" role="search" class="search__form govuk-!-margin-bottom-4" id="searchform">
        <div class="govuk-form-group">
          <h1 class="govuk-heading-xl">Find MOJ Data</h1>
          <div class="search-container">
            <input name="query" class="govuk-input search-input" id="searchForm-search" type="search" value="{{query}}">
            <button class="search-button" type="submit">
              <svg aria-hidden="true" class="search-icon" focusable="false" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36" width="40" height="40"><path d="M25.7 24.8L21.9 21c.7-1 1.1-2.2 1.1-3.5 0-3.6-2.9-6.5-6.5-6.5S10 13.9 10 17.5s2.9 6.5 6.5 6.5c1.6 0 3-.6 4.1-1.5l3.7 3.7 1.4-1.4zM12 17.5c0-2.5 2-4.5 4.5-4.5s4.5 2 4.5 4.5-2 4.5-4.5 4.5-4.5-2-4.5-4.5z" fill="currentColor"></path>
              </svg><span class="govuk-visually-hidden">Search</span>
            </button>
          </div>
        </div>
      </form>
    </div>
</div>
<div class="govuk-grid-row">
  {% include "partial/filter.html" %}
  <div class="govuk-grid-column-two-thirds">
    <h2 class="govuk-heading-l govuk-!-display-inline-block">{{total_results|intcomma}} Results</h2>
    <div class="govuk-form-group">
      <fieldset class="govuk-fieldset">
        <legend class="govuk-fieldset__legend govuk-fieldset__legend--s">
          Sort results
        </legend>
        <div class="govuk-radios govuk-radios--inline govuk-radios--small" data-module="govuk-radios">
          <div class="govuk-radios__item">
            <input class="govuk-radios__input" form="searchform" id="relevance" name="sortby" type="radio" value="relevance" {% if not sortby or sortby == "relevance" %} checked {% endif %} onchange="document.getElementById('searchform').submit();">
            <label class="govuk-label govuk-radios__label" for="relevance">
              Relevance
            </label>
          </div>
          <div class="govuk-radios__item">
            <input class="govuk-radios__input" form="searchform" id="ascending" name="sortby" type="radio" value="ascending" {% if sortby == "ascending" %} checked {% endif %} onchange="document.getElementById('searchform').submit();">
            <label class="govuk-label govuk-radios__label" for="ascending">
              Ascending
            </label>
          </div>
          <div class="govuk-radios__item">
            <input class="govuk-radios__input" form="searchform" id="descending" name="sortby" type="radio" value="descending" {% if sortby == "descending" %} checked {% endif %} onchange="document.getElementById('searchform').submit();">
            <label class="govuk-label govuk-radios__label" for="descending">
              Descending
            </label>
          </div>
        </div>
      </fieldset>
    </div>
      {% include "partial/search_result.html" %}
      {% include "partial/pagination.html" %}
    </div>
</div>
{% endblock content %}
