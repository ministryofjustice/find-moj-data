{% load future %}
{% load clear_filter %}
<div class="govuk-grid-column-one-third">
    <div class="moj-filter">
      <div class="moj-filter__header">
        <div class="moj-filter__header-title">
          <h2 class="govuk-heading-m">Filter</h2>
        </div>
        <div class="moj-filter__header-action">
        </div>
      </div>
      <div class="moj-filter__content">
        {% include "partial/selected_filters.html" %}
        <div class="moj-filter__options">
            <button form="searchform" class="govuk-button" data-module="govuk-button" data-test-id="apply-filters">
              Apply filters
            </button>
            <div class="govuk-form-group">
              <fieldset class="govuk-fieldset">
                <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">Domain</legend>
                  {{form.domain}}
              </fieldset>
            </div>
            <div class="govuk-form-group">
              <fieldset class="govuk-fieldset">
                <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">Security Classification</legend>
                <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                  {% for classification_option in form.classifications %}
                    <div class="govuk-checkboxes__item">
                      {{ classification_option.tag}}
                      <label class="govuk-label govuk-checkboxes__label" for="{{ classification_option.id_for_label }}">{{classification_option.choice_label}}</label>
                    </div>
                  {% endfor %}
                </div>
              </fieldset>
            </div>
            <div class="govuk-form-group">
              <fieldset class="govuk-fieldset">
                <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">Availability</legend>
                <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                  {% for access_option in form.where_to_access %}
                    <div class="govuk-checkboxes__item">
                      {{ access_option.tag}}
                      <label class="govuk-label govuk-checkboxes__label" for="{{ access_option.id_for_label }}">{{access_option.choice_label}}</label>
                    </div>
                  {% endfor %}
                </div>
              </fieldset>
            </div>
        </div>
      </div>
    </div>
</div>
{% load future %}
<div class="govuk-grid-column-one-third">
    <div class="moj-filter">
      <div class="moj-filter__header">
        <div class="moj-filter__header-title">
          <h2 class="govuk-heading-m">Filter</h2>
        </div>
        <div class="moj-filter__header-action">
        </div>
      </div>

      <div class="moj-filter__content">
        <div class="moj-filter__selected">
          <div class="moj-filter__selected-heading">
            <div class="moj-filter__heading-title">
              <h2 class="govuk-heading-m">Selected filters</h2>
            </div>
            <div class="moj-filter__heading-action">
              <p>
                <a class="govuk-link govuk-link--no-visited-state"
                href="{% url 'home:search' %}{% query_string domains=None subdomains=None classifications=None availabilities=None %}"
                id="clear_filter">
                Clear filter
                </a>
              </p>
            </div>
          </div>
          {% if form.domains.value %}
            <h3 class="govuk-heading-s govuk-!-margin-bottom-0">Domain</h3>
            <ul class="moj-filter-tags">
              <input type="hidden" name="clear_label" value="">
              {% for label, href in label_clear_href.items %}
                <li><a class="moj-filter__tag govuk-link" href="{{ href }}">
                  <span data-test-id="selected-domain-label">{{label}}</span> <span class="govuk-visually-hidden">Remove this filter</span>
                </a></li>
              {% endfor %}
            </ul>
          {% endif %}
        </div>
        <div class="moj-filter__options">
            <button form="searchform" class="govuk-button" data-module="govuk-button" data-test-id="apply-filters">
              Apply filters
            </button>
            <div class="govuk-form-group">
              <label class="govuk-label" for="sort">Domain</label>
                {{form.domain}}
              </select>
            </div>
            <div class="govuk-form-group">
              <fieldset class="govuk-fieldset">
                <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">Security Classification</legend>
                <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                  {% for classification_option in form.classifications %}
                    <div class="govuk-checkboxes__item">
                      {{ classification_option.tag}}
                      <label class="govuk-label govuk-checkboxes__label" for="{{ classification_option.id_for_label }}">{{classification_option.choice_label}}</label>
                    </div>
                  {% endfor %}
                </div>
              </fieldset>
            </div>
            <div class="govuk-form-group">
              <fieldset class="govuk-fieldset">
                <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">Availability</legend>
                <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
                  {% for access_option in form.where_to_access %}
                    <div class="govuk-checkboxes__item">
                      {{ access_option.tag}}
                      <label class="govuk-label govuk-checkboxes__label" for="{{ availability_option.id_for_label }}">{{access_option.choice_label}}</label>
                    </div>
                  {% endfor %}
                </div>
              </fieldset>
            </div>
        </div>
      </div>
    </div>
</div>
