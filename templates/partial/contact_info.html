{% load i18n %}

<div class="govuk-body">
  <h2 class="govuk-heading-s govuk-!-margin-bottom-1">{% translate "Access requirements" %}</h2>
  <p id="request_access" class="govuk-body">
    {% if access_requirements %}
      {% if is_access_url %}
        <a onclick="gtag('event', 'click_access_link', {'entity_name': '{{ entity_name }}'})" href="{{ access_requirements }}" class="govuk-link" rel="noreferrer noopener" target="_blank">{% translate "Click link for access information (opens in new tab)" %}</a>
      {% else %}
        {{ access_requirements }}
      {% endif %}
    {% elif data_owner_email %}
      {% translate "Please contact the data owner for access information." %}
    {% else %}
      {% translate "Not provided" %}
    {% endif %}
  </p>
</div>
<!-- placeholder until we have more contact channels than just slack -->

<div class="govuk-body">
  <h2 class="govuk-heading-s govuk-!-margin-bottom-1">{% translate "Contact channels for questions" %}</h2>
  <p id="contact_channels" class="govuk-body">
    {% if further_information.dc_slack_channel_url %}
      <!-- This should become a list of populated contact channels -->
      Slack channel: <a href="{{ further_information.dc_slack_channel_url }}" class="govuk-link" rel="noreferrer noopener" target="_blank">{{ further_information.dc_slack_channel_name }} (opens in new tab)</a>
    {% elif further_information.dc_teams_channel_url %}
      Teams channel: <a href="{{ further_information.dc_teams_channel_url }}" class="govuk-link" rel="noreferrer noopener" target="_blank">{{ further_information.dc_teams_channel_name }} (opens in new tab)</a>
    {% elif further_information.dc_team_email %}
      Email: {{ further_information.dc_team_email|urlize }}
    {% elif data_owner_email %}
      {% translate "Contact the data owner with questions." %}
    {% else %}
      {% translate 'Not provided' %}
    {% endif %}
  </p>
</div>

<div class="govuk-body">
  <h2 class="govuk-heading-s govuk-!-margin-bottom-1">{% translate "IAO or Data Owner" %}</h2>
  <p id="data_owner" class="govuk-body">
    {% if data_owner_email %}
      {{ data_owner_email|urlize }}
    {% elif platform.urn == 'performance-hub' %}
      No owner is listed as this data is undergoing a review of ownership.
    {% else %}
      {% blocktranslate %}Not provided - <a href="https://moj.enterprise.slack.com/archives/C06NPM2200N" class="govuk-link">contact the Data Catalogue team</a> about this data.{% endblocktranslate %}
    {% endif %}
  </p>
</div>

{% if NOTIFY_ENABLED and entity_name %}
  <div class="govuk-body">
    <a type="button" class="govuk-button" href="{% url 'feedback:report-issue' %}?entity_name={{ entity_name }}&data_owner_email={{ data_owner_email }}&entity_url={{ request.build_absolute_uri}}" class="govuk-link">Report an issue</a>
  </div>
{% endif %}
